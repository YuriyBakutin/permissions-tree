# permissions-tree

Это учебный проект, в котором создаётся дерево vue-элементов для редактирования прав доступа.

## Задание сформулировано следующим образом:

>*На входе массив объектов (прав доступа).*  
>
>*Примерная структура объекта:*
```js
{
id: 10,
parentId: 1
name: "Редактировать пользователя"
checked: true
}
```
>*Отобразить этот массив в виде древовидной структуры, группировка по parentId.*  
>
>*Главное чтоб это решение не имело предела вложенности потомков.*  
>
>*Каждый элемент имеет чекбокс который контролирует как свое внутреннее свойство checked, так и свойство его родителя. Например свойство checked родителя может иметь значение true но сам чекбокс будет в состоянии indeterminate это если не у всех потомков checked однозначно.*

## Как я понял задание

Есть некая иерархия прав доступа. Например, есть права доступа в некоторое здание, на конкретный этаж этого здания, в помещение на этаже, к определённому шкафу в этом помещении... Если есть право доступа в здание, это не значит, что есть право доступа на этаж и т.д. Может не быть прав на все дочерние объекты, но быть право на родительский. Можно войти в здание, но не на закрытые этажи, доступ к которым регулируется отдельно. Но вот если нет права доступа в здание, то представляется логичным отсутствие прав доступа и на дочерние объекты.  


Общее состояние доступа к объекту должно отображаться на чекбоксе элемента. Возможны три варианта:
1. Полный доступ. Есть права на данный объект и все дочерние объекты.
2. Частичный доступ. Есть хотя бы один потомок, к которому доступ закрыт.
3. Доступ закрыт. Доступ закрыт как для данного объекта, так и для всех объектов, расположенных дальше по иерархии дерева прав.

Итак нам нужен чекбокс с тремя состояниями: checked, indeterminate, unchecked. При щелчке на нём для каждого состояния должно происходить следующее:
1. checked -> unchecked
2. indeterminate -> unchecked
3. unchecked -> indeterminate / checked

Переходы 1 и 2 сбрасывают права доступа для всех потомков. Переход 3 происходит в checked, если потомки отсутствуют. Иначе — в indeterminate.  

При переходе в checked, генерируется событие, по которому родительский элемент проверяет все свои дочерние, и если все они находятся в состоянии checked, также переводит свой чекбокс в состояние checked, в свою очередь генерируя аналогичное событие уже для своего родительского элемента.  

Состояние чекбокса checked и unchecked будем отображать, как обычно — квадратик с галкой и пустой квадратик. Состояние indeterminate будем отображать квадратиком с точкой посередине.  

Сам элемент, кроме чекбокса, должен отображать название, а также иметь кнопку для сворачивания/разворачивания дочерних элементов.



